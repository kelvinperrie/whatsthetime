<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="libraries/bootstrap-5.0.2-dist/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="styles/main.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <style>
    </style>
    <title>WHAS THE TIME</title>
  </head>
  <body>
    <a href="" title="see the repo on github" id="github-link"><img src="images/GitHub-Mark-32px.png" alt="github logo" /></a>
    <div class="container">
        <div class="row">
            <div class="col">
                <p class="text-center">
                    Times. Could there be anything simpler. Especially in programming languages. A piece of cake.
                    Their simplicity offends me as it should you. 
                    If you choose to be the master of this petty dimension called time you may use this page to generate the current time in a format more interesting than normal. 
                    Is it 4:10pm? No. That is actually 70 minutes past 3. Is it 7:56am? No. That is -4 minutes past 8.
                </p>
                <p class="time-display-container text-center">
                    The time is<br/>
                    <span class="time-display text-center"></span>
                </p>
            </div>
        </div>
    </div>
    <script src="scripts/luxon.js"></script>
    <script src="scripts/jquery-3.3.1.min.js"></script>
    <script src="libraries/bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {

            let now = luxon.DateTime.now();

            let randValue = randomIntFromInterval(0,100);

            let displayHours = 0, displayMinutes = 0;

            if(randValue < 50) {
                // increase the hour, then show the minutes as a negative
                let increaseHowManyHours = randomIntFromInterval(1,3);
                displayMinutes = ((60 * increaseHowManyHours) - now.minute) * -1;
                now = now.plus( { hours : increaseHowManyHours } );
            } else {
                // decrease the hours, then add an hours to the minutes
                let decreaseHowManyHours = randomIntFromInterval(1,3);
                console.log(decreaseHowManyHours)
                displayMinutes = now.minute + (decreaseHowManyHours * 60);
                now = now.plus( {hours : (decreaseHowManyHours*-1) })
            }
            displayHours = now.toFormat('h');
            let displayTime = displayHours + ":" + displayMinutes + " " + now.toFormat('a').toLowerCase();

            $(".time-display").text(displayTime);
        });

        function randomIntFromInterval(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min)
        }
    </script>
  </body>
</html>
